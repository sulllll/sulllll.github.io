---
layout: single
title:  "DAY-75 Spring ë¼ì´ë¸ŒëŸ¬ë¦¬, ajax, í”„ë¡œí•„ ì´ë¯¸ì§€ ë³€ê²½"
categories: Spring
tag: [Spring ë¼ì´ë¸ŒëŸ¬ë¦¬, ajax, í”„ë¡œí•„ ì´ë¯¸ì§€ ë³€ê²½]
toc: true
toc_sticky: true
author_profile: false
sidebar:
  nav: "docs"
---

# ğŸ’»2022-06-20

<!--Quote-->
> â— ìˆ˜ì—…ì„ ë“£ê³ , ê°œì¸ì´ ê³µë¶€í•œ ë‚´ìš©ì„ ì ì€ ê²ƒ ì´ê¸°ì— ì˜¤ë¥˜ê°€ ë§ì„ ìˆ˜ë„ ìˆìŒ

# 1ï¸âƒ£ Jackson Databind ë¼ì´ë¸ŒëŸ¬ë¦¬

- ìŠ¤í”„ë§ì—ì„œ ajax ì´ìš© ì‹œ gson ëŒ€ì‹  jackson databind ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìš©
- jackson databindëŠ” string , list, ê°ì²´ íƒ€ì… ëª¨ë“  ë°ì´í„°ë¥¼ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤.


<span style="color: #2D3748; background-color:#fff5b1;">HomeController.java</span>

<script src="https://gist.github.com/kimyeong96/6137122edb56523ea834f60036d691aa.js"></script>

- dtoì™€ list ë‘ ê°œë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤ / ë‹¤ë¥¸ ì¢…ë¥˜ì˜ list 2ê°œë¥¼ í•œë²ˆì— ë°˜í™˜ í•´ì•¼ í•˜ëŠ” ê²½ìš°
- ë°˜í™˜ ê°’ì€ ë”± í•˜ë‚˜ ì—¬ì•¼ í•œë‹¤ -> dtoì™€ listë¥¼ ë‹´ëŠ” ë¬´ì–¸ê°€ê°€ ìˆì–´ì•¼ í•œë‹¤ â†’ HashMap ì´ìš©


<span style="color: #2D3748; background-color:#fff5b1;">output2.jsp</span>

<script src="https://gist.github.com/kimyeong96/d6b2546c07027a579998eab8cf20cb5f.js"></script>

- HomeControllerì—ì„œ ë„˜ì–´ì˜¨ dataëŠ” ê°ì²´ í˜•íƒœ(json)ì´ë©°, listì™€ dto ê°’ì´ ë“¤ì–´ìˆë‹¤.

# 2ï¸âƒ£ ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œì— ì´ë²¤íŠ¸ ì£¼ê¸°(ì‚­ì œ)


<span style="color: #2D3748; background-color:#fff5b1;">HomeController.java</span>

<script src="https://gist.github.com/kimyeong96/f803f6a82a541fba0847589e3dc26668.js"></script>
<span style="color: #2D3748; background-color:#fff5b1;">output2.jsp</span>

<script src="https://gist.github.com/kimyeong96/fda767714fb74931f2684397d8a8074d.js"></script>

- í˜ì´ì§€ê°€ ë¡œë“œ ë  ë•ŒëŠ” deleteBtnì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ì„œ(ajaxë¡œ ìƒì„±í–ˆê¸°ì—) ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ â†’ ë¶€ëª¨ì˜ ìš”ì†Œì¸ tbodyì— ì´ë²¤íŠ¸ë¥¼ ê±¸ì–´ì¤€ë‹¤

# 3ï¸âƒ£ Controller ìƒì„±

1. Controller ì–´ë…¸í…Œì´ì…˜ ë¶™ì—¬ì£¼ê¸°
2. servelt-context.xml ì—ì„œ component-scanì˜ ë²”ìœ„ë¥¼ ë°”ê¿”ì£¼ê¸°

<script src="https://gist.github.com/kimyeong96/e04302e3337059cfab7b4b6c9b79482a.js"></script>

ğŸ”” ê¸°ëŠ¥ë³„ Mapping í•˜ëŠ” ë²•


<span style="color: #2D3748; background-color:#fff5b1;">MemberController</span>

<script src="https://gist.github.com/kimyeong96/60cf12012894138caf2b5721425fd48e.js"></script>

- jspì˜ .mem .sh ì´ëŸ° ì‘ì—…ë“¤ì„ ìŠ¤í”„ë§ì—ì„œëŠ” Mappingìœ¼ë¡œ ëª…ì‹œí•´ì¤€ë‹¤

# 4ï¸âƒ£ ì´ë¯¸ì§€ ë¯¸ë¦¬ ë³´ê¸° (FileReader ì´ìš©)

- FileReader : javascriptì—ì„œ ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì´ë¯¸ì§€ ì—…ë¡œë“œ êµ¬í˜„í•˜ëŠ” ê²½ìš°,ì„ íƒí•œ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©ì í™”ë©´ì— ë¯¸ë¦¬ ë³´ì—¬ì¤˜ì•¼ í•  ë•Œ ì‚¬ìš©
- ì‚¬ìš©ìê°€ profile_image íŒŒì¼ íƒœê·¸ë¥¼ ì´ìš©í•´ í”„ë¡œí•„ ì‚¬ì§„(ì´ë¯¸ì§€)ì„ ì„ íƒí–ˆì„ ë•Œ, profile_default ì´ë¯¸ì§€ íƒœê·¸ì— ì„ íƒëœ ì‚¬ì§„ì„ ë„ì›Œì£¼ëŠ” ì‘ì—…
- [ì œë¡œì´ˆ ë¸”ë¡œê·¸](https://www.zerocho.com/category/HTML&DOM/post/592827558653d6001804a0a5)

<span style="color: #2D3748; background-color:#fff5b1;">signup.jsp</span>

<script src="https://gist.github.com/kimyeong96/c83874033058b89f2b73eba80c30cd45.js"></script>
<script src="https://gist.github.com/kimyeong96/67607cba26239e59b2b6e10af63288f1.js"></script>

1. FileReader ìƒì„± í›„, ì‚¬ìš©ìê°€ ì„ íƒí•œ ì´ë¯¸ì§€ì˜ ë°ì´í„° ê°’ì„ FileReaderì— ë„£ì–´ì¤€ë‹¤.
2. FileReaderê°€ ìƒˆë¡œ ë‹´ê²¼ì„ ë•Œ ì´ë¯¸ì§€ì˜ ì£¼ì†Œ ê°’ì„ ìƒˆë¡­ê²Œ ë³€ê²½ í•´ì¤€ë‹¤

# 5ï¸âƒ£ ì—¬ëŸ¬ ê°œì˜ íŒŒì¼ ì˜¬ë¦¬ê¸°(commons ë¼ì´ë¸ŒëŸ¬ë¦¬)

- commons fileupload ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìš©
- servlet-context.xmlì— bean ìƒì„± í•´ì•¼ í•œë‹¤

<script src="https://gist.github.com/kimyeong96/7a0ac11fed72c65654fbb52a65c55b2c.js"></script>

- ì´ë•Œ, idëŠ” ë°˜ë“œì‹œ multipartResolver ì´ì—¬ì•¼ í•œë‹¤

## â—org.springframework.validation.BeanPropertyBindingResult ì—ëŸ¬ ë°œìƒ

<span style="color: #2D3748; background-color:#fff5b1;">signup.jsp</span>

<script src="https://gist.github.com/kimyeong96/7be68737b1ab499125f2d4a8e4e8f8c0.js"></script>

- idê°€ profile_imageì¸ inputì˜ nameì´ â€œprofile_imageâ€ì´ë‹¤


<span style="color: #2D3748; background-color:#fff5b1;">MemberController.java</span>

<script src="https://gist.github.com/kimyeong96/9c5df6c207582689b9f3b2fa2dd48a0b.js"></script>

- í˜„ì¬ MemberDTOì˜ ë³€ìˆ˜ ì¤‘ profile_imageê°€ ì¡´ì¬í•œë‹¤. â†’ Type mismatchì—ëŸ¬ ë°œìƒ
- ì¦‰ MultipartFileë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” DTOì— ì¡´ì¬í•˜ëŠ” ë³€ìˆ˜ëª…ì„ ì‚¬ìš© í•´ì„  ì•ˆëœë‹¤.

## ğŸ’¡ í•´ê²° ë°©ë²•

singup.jspì—ì„œ idê°€ profile_imageì¸ inputì˜ nameì„ ë‹¤ë¥¸ ì´ë¦„ ex) fileë¡œ ë³€ê²½ í›„ MemberController.javaì—ì„œ ê°’ì„ ë°›ëŠ” ì¸ìë„ fileë¡œ ë³€ê²½ì„ í•´ì¤€ë‹¤

<span style="color: #2D3748; background-color:#fff5b1;">signup.jsp</span>

<script src="https://gist.github.com/kimyeong96/7e77c4985dd1df0832ac797f196a80a7.js"></script>
<span style="color: #2D3748; background-color:#fff5b1;">MemberController.java</span>

<script src="https://gist.github.com/kimyeong96/b3f8625add9b2148118840fb9cd6b9ba.js"></script>





