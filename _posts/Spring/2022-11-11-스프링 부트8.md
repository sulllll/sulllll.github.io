---
layout: single
title:  "ìŠ¤í”„ë§ ë¶€íŠ¸ ê¸°ì´ˆ - 8(SessionScope, @Generated value)"
categories: SpringBoot
tag: [SpringBoot,SessionScope, Generated value ]
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "docs"
---


## JSTL SessionScope

- ë¸Œë¼ìš°ì €ê°€ ìµœì´ˆì˜ ìš”ì²­ì„ ë°œìƒ ì‹œí‚¤ê³  ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì„ ë•Œ ê¹Œì§€ë¥¼ SessionScopeë¼ê³  ë¶€ë¥¸ë‹¤.
- SessionScope ì—ì„œëŠ” session ì˜ì—­ì— ì €ì¥ë˜ì–´ ìˆëŠ” ë°ì´í„°ë‚˜ ê°ì²´ë¥¼ ììœ ë¡­ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- Controllerì—ì„œ viewë¡œ ì•ˆë³´ë‚´ë„ ì‚¬ìš© ê°€ëŠ¥

<br/>
â–¶ UserApiController

```java
@PostMapping(value = "/api/user/login")
public ResponseDto<Integer> login(@RequestBody User user, HttpSession session) {
	User principal = userService.ë¡œê·¸ì¸(user); // principal(ì ‘ê·¼ì£¼ì²´)

	if(principal != null) {	// ì„¸ì…˜ ë§Œë“¤ê¸°
		System.out.println("ë¡œê·¸ì¸ ì„±ê³µ");
		session.setAttribute("principal", principal);
	}
	return new ResponseDto<Integer>(HttpStatus.OK.value(),1);
}
```

setAttributeë¥¼ í™œìš©í•´ì„œ ì„¸ì…˜ì˜ ê°’ì„ ë§µí•‘ í•´ì¤€ë‹¤.

<br/>

â–¶ LoginForm

```java
${empty SessionScope.principal}
```

ìœ„ì™€ ê°™ì´ JSTLì„ í™œìš©í•˜ì—¬ SessionScopeì— principalì˜ ìœ ë¬´ë¥¼ íŒë³„í•  ìˆ˜ ìˆë‹¤.
<br/><br/>

## @Generated value

### **@GeneratedValue(strategy = GenerationType.IDENTITY)**

- ê¸°ë³¸í‚¤ ìƒì„±ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ê²Œ ìœ„ì„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ idê°’ì„ ë”°ë¡œ í• ë‹¹í•˜ì§€ ì•Šì•„ë„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìë™ìœ¼ë¡œ AUTO_INCREMENTë¥¼ í•˜ì—¬ ê¸°ë³¸í‚¤ë¥¼ ìƒì„±í•´ì¤€ë‹¤.

```java
@Entity
public class PkEx() {

  @Id
  @GeneratedValue(strategy = GenerationType.IDENTITY)
  private Long id;

  private String name;
}
```
<br/>

### **@GeneratedValue(strategy = GenerationType.SEQUNCE)**

- ë°ì´í„° ë² ì´ìŠ¤ì˜ Sequence Objectë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìë™ìœ¼ë¡œ ê¸°ë³¸í‚¤ë¥¼ ìƒì„±í•´ì¤€ë‹¤.
- @SequenceGenerator ì–´ë…¸í…Œì´ì…˜ì´ í•„ìš”í•˜ë‹¤.

```java
@Entity
@SequenceGenerator(
	name = "USER_PK_GENERATOR",
	sequenceName = "USER_PK_SEQ",
	initailValue = 1,
  allocationSize = 50
)
public class PkEx() {

  @Id
  @GeneratedValue(strategy = GenerationType.SEQUENCE,
            			generator="USER_PK_GENERATOR")
  private Long id;

  private String name;

}
```
<br/>

### @GeneratedValue(strategy = GenerationType.TABLE)

- í‚¤ë¥¼ ìƒì„±í•˜ëŠ” í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ Sequenceì™€ ìœ ì‚¬í•˜ë‹¤.
- @TableGenerator ì–´ë…¸í…Œì´ì…˜ì´ í•„ìš”í•˜ë‹¤.

```java
@Entity
@TableGenerator(
  name = "USER_PK_GENERATOR",
  table = "USER_PK_SEQ",
  pkColumnValue = "USER_SEQ",
  allocationSize = 1
)
public class PkEx() {

  @Id
  @GeneratedValue(strategy = GenerationType.SEQUENCE,
            			generator="USER_PK_GENERATOR")
  private Long id;

  private String name;

}
```
<br/>

### **@GeneratedValue(strategy = GenerationType.AUTO)**

- ê¸°ë³¸ ì„¤ì • ê°’ìœ¼ë¡œ ê° ë°ì´í„°ë² ì´ìŠ¤ì— ë”°ë¼ ê¸°ë³¸í‚¤ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•œë‹¤.

ê¸°ë³¸í‚¤ì˜ ì œì•½ ì¡°ê±´

1. nullì´ë©´ ì•ˆëœë‹¤.
2. ìœ ì¼í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
3. ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì´ì–´ì•¼ í•œë‹¤.


## ğŸ“‘ ì¶œì²˜
 - [ë©”íƒ€ì½”ë”©](https://www.youtube.com/c/%EB%A9%94%ED%83%80%EC%BD%94%EB%94%A9/playlists)
 - [GeneratedValue](https://velog.io/@gudnr1451/GeneratedValue-ì •ë¦¬)